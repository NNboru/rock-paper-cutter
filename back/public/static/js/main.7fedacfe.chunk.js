(this["webpackJsonpstone-paper-scissor"]=this["webpackJsonpstone-paper-scissor"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(54),o=n.n(s),i=(n(63),n(3)),c=n(4),l=n(6),d=n(5),m=(n(64),n(20)),u=n(7),p=n(0),h=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(p.jsx)("header",{className:"display-6 text-center pt-2 pb-2 ps-5 pe-5",children:"Rock Paper Cutter"})}}]),n}(r.a.Component),b=n(26),j=n.n(b),f=n(55),v=n(34),O=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.angle,n=e.count,a=e.name,r=e.stat,s=e.color,o=Number.parseInt(50+100/n),i=.18*Math.abs(90-t%180),c=window.innerWidth>window.innerHeight?16-i+8+"vw":8+i+"vw",l={height:o+"px"};return r.choice>=0||(l.animation="shiver infinite alternate ease-in-out .1s"),Object(p.jsxs)("div",{className:"hand",style:{transform:"rotateZ(".concat(t,"deg) translateY(calc(40px + ").concat(c,"))"),position:"absolute",top:"calc(50vh - ".concat(20+o/2+"px",")"),left:"calc(50vw - ".concat(o/2+"px",")")},children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:r.choice>=0?"/img/".concat(["stone","paper","scissor"][r.choice],".png"):"/img/stone.png",style:l,className:s,alt:""})}),Object(p.jsx)("div",{className:"name",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:a}),Object(p.jsx)("span",{className:"badge badge-pill bg-info m-1",children:r.wins})]})})]})}}]),n}(r.a.Component),x=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.count,n=e.players,a=e.reveal,r=0,s=[],o=0;for(var i in window.innerWidth>window.innerHeight&&(o=90),n)if("on"===n[i].status){var c="transparent";a&&(c="draw"===a.res?"beige":a.winners.includes(i)?"lawngreen":"orangered"),s.push(Object(p.jsx)(O,{name:i,stat:n[i],angle:o+r*(360/t),count:t,color:c},r++))}return s}}]),n}(r.a.Component),y=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"divMyloader position-fixed w-100 vh-100 top-0 start-0",children:Object(p.jsx)("div",{className:"myloader position-absolute top-50 start-50 d-flex translate-middle",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"spinner spinner-grow m-2"}),Object(p.jsx)("div",{className:"spinner spinner-grow m-2",style:{animationDelay:".2s"}}),Object(p.jsx)("div",{className:"spinner spinner-grow m-2",style:{animationDelay:".4s"}})]})})})}}]),n}(r.a.Component),g=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).update=function(e){var t=e.target,n=t.value;n=n.replaceAll(/[^ \w-]/g,"").substr(0,16),t.value=n,t.classList.remove("is-invalid")},e.stop=!1,e.state={loading:!1,count:3,reveal:!1,players:{ronan:{status:"on",choice:0},salaman:{status:"on"},mariana:{status:"on"}}},e}return Object(c.a)(n,[{key:"rand",value:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}},{key:"genName",value:function(){return String.fromCharCode(this.rand(97,122),[97,101,105,111,117][this.rand(0,3)],this.rand(97,122),[97,101,105,111,117][this.rand(0,3)])+this.rand(1,99)}},{key:"calResult",value:function(e,t){var n=[0,0,0],a={};for(var r in e)"on"===e[r].status&&n[e[r].choice]++;if(n[0]*n[1]*n[2]!==0||n.includes(t))return a.res="draw",a;a.res="win";var s=0;for(var o in 0===n[0]&&(s=2),0===n[2]&&(s=1),a.winners=[],e)"on"===e[o].status&&e[o].choice===s&&a.winners.push(o);var i,c=t-a.winners.length,l=Object(v.a)(a.winners);try{for(l.s();!(i=l.n()).done;){e[i.value].wins+=c}}catch(d){l.e(d)}finally{l.f()}return a}},{key:"createAni",value:function(){var e=Object(f.a)(j.a.mark((function e(){var t,n,a,r,s,o,i,c=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=["Online multiplayer game","Reach out your hands","Any number of players!","Stone beats scissors","Scissors beats paper","Paper beats stone","Old is gold, never gets old"],n=["ron","luffy","kaido","Edward","thanos","enma","mayuri","zoro","naami","brook","meliodas","asta","naruto","hinata","sakura","levi","mikasa","kilua","Zenitsu","Nezuko","platypus","Lawliet","misa misa","Saitama"],a=document.getElementById("divtxt");case 2:0,r=Object(v.a)(t),e.prev=4,o=j.a.mark((function e(){var t,r,o,i,l,d,m,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.value,r=c.rand(2,8),o=new Set,i={};o.size!==r;)o.add(c.rand(0,n.length-1));return Array.from(o).forEach((function(e){i[n[e]]={status:"on"}})),l=JSON.parse(JSON.stringify(i)),c.setState({count:r,players:l,reveal:!1}),d=0,a.innerHTML=Array.from(t).map((function(e){return" "===e?"<span style='animation-delay:".concat(d++/20,"s;width:30px;'></span>"):"<span style='animation-delay:".concat(d++/20,"s'>").concat(e,"</span>")})).join(""),e.next=10,new Promise((function(e){return setTimeout(e,5e3,"ok")}));case 10:if(!c.stop){e.next=12;break}return e.abrupt("return",{v:void 0});case 12:for(m in i)i[m].choice=c.rand(0,2);return u=c.calResult(i,r),l=JSON.parse(JSON.stringify(i)),c.setState({reveal:u,players:l}),e.next=18,new Promise((function(e){return setTimeout(e,3e3,"ok")}));case 18:if(!c.stop){e.next=20;break}return e.abrupt("return",{v:void 0});case 20:c.setState({count:0,players:{},reveal:!1});case 21:case"end":return e.stop()}}),e)})),r.s();case 7:if((s=r.n()).done){e.next=14;break}return e.delegateYield(o(),"t0",9);case 9:if("object"!==typeof(i=e.t0)){e.next=12;break}return e.abrupt("return",i.v);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),r.e(e.t1);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=2;break;case 24:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"mycontainer",children:Object(p.jsx)("div",{className:"",children:Object(p.jsx)("div",{className:"d-flex flex-column justify-content-center pt-4 h-100",children:Object(p.jsx)("div",{className:"m-2 p-2 pb-4 display-3 lead popper",id:"divtxt"})})})}),Object(p.jsx)("div",{className:"divAllhandsHome",children:Object(p.jsx)(x,{players:this.state.players,count:this.state.count,reveal:this.state.reveal})}),Object(p.jsx)("a",{href:"#myform1",className:"link position-absolute start-50 bottom-0 translate-middle",children:Object(p.jsx)("img",{src:"/img/down.png",id:"arrow-link",alt:""})}),Object(p.jsxs)("div",{className:"container-fluid w-lg-60 shadow pt-5 pb-5 divform2",children:[Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"row gy-4",children:[Object(p.jsxs)("form",{id:"myform1",className:"col col-10 col-md-5 p-4 mx-auto mb-4 divform",children:[Object(p.jsx)("div",{className:"h3 text-center mb-4",children:"Create room"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"bname",children:"Room name"}),Object(p.jsx)("input",{type:"name",className:"form-control text-primary font-weight-bolder",id:"cname",autoComplete:"off",spellCheck:"false",required:"required"}),Object(p.jsx)("div",{className:"invalid-feedback",children:"Sorry, room with this name already exists."})]}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"bname",children:"Password"}),Object(p.jsx)("input",{type:"name",className:"form-control text-primary font-weight-bolder",id:"cpass",autoComplete:"off",spellCheck:"false",required:"required"})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("button",{type:"submit",className:"btn btn-success d-block m-auto",children:"Lets GO"})})]}),Object(p.jsxs)("form",{id:"myform2",className:"col col-10 col-md-5 p-4 mx-auto mb-4 divform",children:[Object(p.jsx)("div",{className:"h3 text-center mb-4",children:"Join room"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"bname",children:"Room name"}),Object(p.jsx)("input",{type:"name",className:"form-control text-primary font-weight-bolder",id:"jname",autoComplete:"off",spellCheck:"false",required:"required"}),Object(p.jsx)("div",{className:"invalid-feedback",children:"Room with this name does not exists."})]}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"bname",children:"Password"}),Object(p.jsx)("input",{type:"name",className:"form-control text-primary font-weight-bolder",id:"jpass",autoComplete:"off",spellCheck:"false",required:"required"}),Object(p.jsx)("div",{className:"invalid-feedback",children:"Incorrect password"})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("button",{type:"submit",className:"btn btn-success d-block m-auto",children:"Lets GO"})})]})]})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"text-center mb-2",children:"@copyrights 2021"}),!this.state.loading||Object(p.jsx)(y,{})]})}},{key:"componentDidMount",value:function(){var e=this;this.createAni();var t=document.getElementById("cname"),n=document.getElementById("cpass"),a=document.getElementById("jname"),r=document.getElementById("jpass");t.value=this.genName(),n.value=this.rand(100,999),t.addEventListener("input",this.update),a.addEventListener("input",this.update),r.addEventListener("input",(function(){return r.classList.remove("is-invalid")})),document.getElementById("myform1").addEventListener("submit",(function(a){a.preventDefault(),e.setState({loading:!0});var r=t.value,s=n.value;fetch("/createRoom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,pass:s})}).then((function(e){if(!e.ok)throw new Error("Some error occured");return e.json()})).then((function(n){if(n.error)throw new Error("Error occured : "+n.error);n.exists?(t.classList.add("is-invalid"),e.setState({loading:!1})):e.props.history.push("/room/".concat(r,"/").concat(s))})).catch((function(t){e.setState({loading:!1}),alert(t)}))})),document.getElementById("myform2").addEventListener("submit",(function(t){t.preventDefault(),e.setState({loading:!0});var n=a.value,s=r.value;fetch("/joinRoom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,pass:s})}).then((function(e){if(!e.ok)throw new Error("Some error occured");return e.json()})).then((function(t){if(t.error)throw new Error("Error occured : "+t.error);t.notExists?(a.classList.add("is-invalid"),e.setState({loading:!1})):t.wrongPass?(r.classList.add("is-invalid"),e.setState({loading:!1})):e.props.history.push("/room/".concat(n,"/").concat(s))})).catch((function(t){e.setState({loading:!1}),alert(t)}))})),this.hidearrow=setInterval((function(){var e=document.getElementById("arrow-link");e.getBoundingClientRect().y<500?e.style["animation-name"]="none":e.style["animation-name"]="anilink"}),500)}},{key:"componentWillUnmount",value:function(){this.stop=!0,clearInterval(this.hidearrow)}}]),n}(r.a.Component),k=Object(u.g)(g),w=n(2),N=n(58),C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).setName=function(e){e.preventDefault();var t=r.refinp.current.value;"exist"===r.props.setName(t,r.myModal)&&r.refinp.current.classList.add("is-invalid")},r.update=function(e){var t=r.refinp.current,n=t.value;n=n.replaceAll(/[^ \w-]/g,"").substr(0,12),t.value=n,t.classList.remove("is-invalid")},r.refinp=Object(a.createRef)(),r}return Object(c.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"modal",id:"modname",children:Object(p.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsx)("div",{className:"modal-header",children:Object(p.jsx)("div",{className:"modal-title text-dark display-4 m-auto",children:"Enter your name"})}),Object(p.jsxs)("form",{className:"modal-body d-grid gap-4 justify-content-evenly",id:"formname",children:[Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg text-primary",ref:this.refinp,onInput:this.update,spellCheck:"false",placeholder:"name",required:!0}),Object(p.jsx)("div",{className:"invalid-feedback",children:"Player with this name already exists."}),Object(p.jsx)("button",{className:"btn btn-lg btn-primary",children:"GO"}),Object(p.jsx)("br",{})]})]})})})}},{key:"componentDidMount",value:function(){document.getElementById("formname").onsubmit=this.setName,this.myModal=new N.a(document.getElementById("modname"),{backdrop:"static",keyboard:!1}),this.myModal.show(),this.refinp.current.focus()}}]),n}(r.a.Component),S=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"container-fluid position-absolute bottom-0",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{id:"divchoice",className:"row footer",children:[Object(p.jsx)("button",{className:"btn btn-info col-4 border border-success border-2",onClick:function(t){return e.props.play(0)},children:"Stone"}),Object(p.jsx)("button",{className:"btn btn-info col-4 border border-success border-2",onClick:function(t){return e.props.play(1)},children:"Paper"}),Object(p.jsx)("button",{className:"btn btn-info col-4 border border-success border-2",onClick:function(t){return e.props.play(2)},children:"Scissor"})]})})})}}]),n}(r.a.Component),E=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).resetRoom=function(){e.props.socket.emit("room reset","")},e.getCookie=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},e.shareRoom=function(){var t=window.location.origin+"/room/"+e.props.roomName+"/"+e.getCookie("pass");navigator.share?navigator.clipboard.writeText(t).then(alert("Room link is copied. Share it with others.")).catch((function(e){return alert('Error occured while copying room link. \nEither you are not on "https" or some browser problem.\n\nRoom link : '.concat(t))})):navigator.share({title:"\ud83d\udc4a\u270b\u270c",text:"Lets play Rock-paper-cutter, infinity multiplayer online game!",url:t})},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"offcanvas offcanvas-start",tabIndex:"-1",id:"divoffcanvas",children:[Object(p.jsxs)("div",{className:"offcanvas-header",children:[Object(p.jsxs)(m.b,{to:"/",className:"row offcanvas-title text-decoration-none",id:"h5offcanvas",children:[Object(p.jsx)("img",{className:"col-2 rounded-pill iconHome",src:"/img/home.svg",alt:"home"}),Object(p.jsx)("span",{className:"m-auto h3 text-dark col-auto text-center",children:"Home"})]}),Object(p.jsx)("button",{type:"button",className:"btn-close text-reset col-2","data-bs-dismiss":"offcanvas"})]}),Object(p.jsx)("div",{className:"offcanvas-body container-fluid",children:Object(p.jsxs)("div",{className:"row h-100",children:[Object(p.jsxs)("div",{className:"col-12 mb-2 btn-group",children:[Object(p.jsx)("button",{type:"button",onClick:this.resetRoom,className:"btn btn-outline-danger col-6",children:"Reset Score"}),Object(p.jsx)("button",{type:"button",onClick:this.shareRoom,className:"btn btn-outline-success col-6",children:"Invite"})]}),Object(p.jsx)("div",{className:"col-12 d-flex flex-column-reverse",id:"divchatbox",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"name",children:"@Ron"}),Object(p.jsx)("div",{className:"msg",children:"Thanks for playing.."})]})}),Object(p.jsxs)("form",{className:"input-group col-12",id:"frmchat",children:[Object(p.jsx)("input",{type:"text",className:"form-control",id:"inpchat",autoComplete:"off",spellCheck:"false",required:"required"}),Object(p.jsx)("button",{className:"btn btn-outline-primary",children:"send"})]})]})})]})})}},{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("inpchat"),n=document.getElementById("divchatbox"),a=document.getElementById("spanMsgCnt"),r=document.querySelector(".offcanvas");document.getElementById("frmchat").addEventListener("submit",(function(n){n.preventDefault();var a=t.value.trim();a&&(e.props.socket.emit("room msg",a),t.value="")})),this.props.socket.on("room msg",(function(e,t){n.insertAdjacentHTML("afterbegin","\n          <div>\n            <div class='name'>@".concat(e,"</div>\n            <div class='msg'>").concat(t,"</div>\n          </div>\n        ")),r.classList.contains("show")||(a.innerText=+a.innerText+1)})),r.addEventListener("shown.bs.offcanvas",(function(){a.innerText="",t.focus()})),this.props.socket.on("room reset",(function(e,t){n.insertAdjacentHTML("afterbegin","\n          <div>\n            <div class='name'>@".concat(e," resetted room</div>\n          </div>\n        "))}))}}]),n}(r.a.Component),I=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).setName=function(e,t){if(""!==e){if(a.state.players[e]&&"on"===a.state.players[e].status)return"exist";t.hide(),a.socket.emit("room add",a.props.roomid,e,(function(t){"ok"===t?a.setState({name:e}):console.log("error ","ac not ok in setname")}))}},a.notify=function(e){alert(e)},a.play=function(e){a.socket.emit("room play",e),a.setState((function(t){var n=JSON.parse(JSON.stringify(t.players));return n[t.name].choice=e,{players:n}}))},a.state=Object(w.a)(Object(w.a)({},a.props.room),{},{name:""}),a.reveal=!1,a}return Object(c.a)(n,[{key:"render",value:function(){return""===this.state.name?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(C,{setName:this.setName})}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("button",{className:"iconMenu btn btn-outline-primary position-absolute top-0 start-0 m-1 ms-1",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#divoffcanvas",children:[Object(p.jsx)("span",{children:"|||"}),Object(p.jsx)("span",{id:"spanMsgCnt"})]}),Object(p.jsx)(x,{players:this.state.players,count:this.state.count,reveal:this.reveal}),this.state.players[this.state.name].choice>=0||Object(p.jsx)(S,{play:this.play}),Object(p.jsx)(E,{roomName:this.state.name,socket:this.props.socket})]})}},{key:"componentDidMount",value:function(){var e=this;this.socket=this.props.socket,this.socket.on("room play",(function(t,n){e.setState((function(e){var a=JSON.parse(JSON.stringify(e.players));return a[t].choice=n,{players:a}}))})),this.socket.on("room add",(function(t){t.name=e.state.name,e.setState(t)})),this.socket.on("room delete",(function(t){t.name=e.state.name,e.setState(t)})),this.socket.on("room reveal",(function(t,n){n.name=e.state.name,e.reveal=t,e.setState(n),setTimeout((function(){e.reveal=!1,e.setState((function(e){var t=JSON.parse(JSON.stringify(e.players));for(var n in t)delete t[n].choice;return{players:t}}))}),2e3)})),this.props.socket.on("room reset",(function(t,n){n.name=e.state.name,e.setState(n)}))}}]),n}(r.a.Component),R=n(57),L=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getRoom=function(){a.socket=Object(R.io)(),a.socket.emit("get room",a.props.roomid,(function(e){a.room=e,a.setState({loading:!1})}))},a.state={loading:!0},a}return Object(c.a)(n,[{key:"render",value:function(){return this.state.loading?Object(p.jsx)(y,{}):Object(p.jsx)(I,{socket:this.socket,room:this.room,roomid:this.props.roomid})}},{key:"componentDidMount",value:function(){(new Image).src="/img/home.svg",(new Image).src="/img/stone.png",(new Image).src="/img/paper.png";var e=new Image;e.addEventListener("load",this.getRoom),e.src="/img/scissor.png"}},{key:"componentWillUnmount",value:function(){this.socket.close()}}]),n}(r.a.Component),M=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).getCookie=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},e.setCookie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(n=Object(w.a)({path:"/"},n)).expires instanceof Date&&(n.expires=n.expires.toUTCString());var a=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var r in n){a+="; "+r;var s=n[r];!0!==s&&(a+="="+s)}document.cookie=a},e.state={loading:!0},e}return Object(c.a)(n,[{key:"render",value:function(){return this.state.loading?Object(p.jsx)(y,{}):Object(p.jsx)(L,{roomid:this.roomid})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,a=t.match.params,r=a.roomid,s=a.pass;if(this.roomid=r,s)this.setCookie("pass",s,{path:"/room/"+r}),n.push("/room/".concat(r));else if(!(s=this.getCookie("pass")))return alert("You didn't entered password : "+document.cookie),void n.push("/");fetch("/joinRoom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,pass:s})}).then((function(e){if(!e.ok)throw new Error("Error occured at checkpass");return e.json()})).then((function(t){if(t.error)throw new Error("Error occured : "+t.error);if(t.notExists)throw new Error('No room exists with name - "'.concat(r,'"'));if(t.wrongPass)throw new Error("Wrong password");e.setState({loading:!1})})).catch((function(e){alert(e),n.push("/")}))}}]),n}(r.a.Component),T=Object(u.g)(M),B=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(h,{}),Object(p.jsx)(m.a,{children:Object(p.jsxs)(u.d,{children:[Object(p.jsx)(u.b,{path:["/room/:roomid/:pass","/room/:roomid"],children:Object(p.jsx)(T,{})}),Object(p.jsx)(u.b,{exact:!0,path:"/",children:Object(p.jsx)(k,{})}),Object(p.jsx)(u.a,{to:"/"})]})})]})}}]),n}(r.a.Component),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))};o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(B,{})}),document.getElementById("root")),J()},63:function(e,t,n){},64:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.7fedacfe.chunk.js.map